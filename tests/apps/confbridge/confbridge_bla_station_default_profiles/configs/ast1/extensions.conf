[line1]
exten => inbound,1,BLATrunk(line1)

[line2]
exten => inbound,1,BLATrunk(line2)

[line1_outbound]
exten => faux,1,NoOp()
same  =>      n,Answer(500)
same  =>      n,Wait(1)
same  =>      n,Hangup()

[line2_outbound]
exten => faux,1,NoOp()
same  =>      n,Wait(1)
same  =>      n,Answer()
same  =>      n,Read(DIGITS,,5,,,5)
same  =>      n,Wait(3)
same =>       n,SendDTMF(${DIGITS})
same  =>      n,Wait(1)
same  =>      n,Hangup()

[bla_stations]
exten => station1,1,BLAStation(station1)
exten => station1_line1,1,BLAStation(station1_line1)
exten => station1_line2,1,BLAStation(station1_line2)
exten => station2,1,BLAStation(station2)
exten => station2_line1,1,BLAStation(station2_line1)
exten => station2_line2,1,BLAStation(station2_line2)

[default]
exten => wait,1,NoOp()
same  =>      n,Wait(10000)

exten => hangup,1,NoOp()
same  =>        n,Verbose(1, Hanging up)
same  =>        n,Hangup()

exten => sendDTMF,1,NoOp()
same =>           n,Verbose(1, Sending DTMF Signal ${DTMF_TO_SEND})
same =>           n,SendDTMF(${DTMF_TO_SEND})
same =>           n,Goto(default,readDTMF,1)

exten => readDTMF,1,NoOp()
same =>           n,Verbose(1, Reading DTMF Response)
same  =>          n,Read(DIGITS,,5,,,5)
same =>           n,Verbose(Got DTMF Response: ${DIGITS})
same =>           n,Goto(default,wait,1)

exten => sendAudio,1,NoOp()
	same => n,Verbose(1, Sending audio file ${TALK_AUDIO})
	same => n,Playback(${TALK_AUDIO})
	same => n,Goto(atxfer_retries,wait,1)

exten => sendAudioWithDTMF,1,NoOp()
	same => n,Verbose(1, Sending audio file ${TALK_AUDIO})
	same => n,Playback(${TALK_AUDIO})
	same => n,Verbose(1, Sending DTMF Signal ${DTMF_TO_SEND})
	same => n,SendDTMF(${DTMF_TO_SEND})
	same => n,Goto(atxfer_retries,wait,1)
